{%  extends('base.html.twig') %}

{% block title %}Accueil | {{ parent() }}{% endblock %}

{% block body %}
    <div class="row pt-1">
        <div class="col-md">
            <h5 class="mt-3">Filtrer les sorties</h5>
        </div>
        <div class="col-md">
            <h5 class="mt-3">Filtrer les sorties</h5>
        </div>
    </div>

    {{ form_start(formEvent) }}
    <div class="row mb-5">
        <div class="col-md mt-3">
            <div class="input-group mb-3">
                {{ form_label(formEvent.site) }}
                {{ form_widget(formEvent.site) }}
            </div>
            <div class="input-group">
                {{ form_label(formEvent.dateMax) }}
                {{ form_widget(formEvent.dateMin)  }}
                {{ form_label(formEvent.dateMin) }}
                {{ form_widget(formEvent.dateMax) }}
            </div>

        </div>
        <div class="col-md mt-3">
            <div class="input-group mb-3">
                {{ form_label(formEvent.organisateur) }}

                <div class="input-group-text">
                    {{ form_widget(formEvent.organisateur, {'attr': {'value':  app.user.username }}) }}
                </div>
            </div>
            <div class="input-group mb-3">
                {{ form_label(formEvent.inscrit) }}
                <div class="input-group-text">
                    {{ form_widget(formEvent.inscrit) }}
                </div>
            </div>
            <div class="input-group mb-3">
                {{ form_label(formEvent.nInscrit) }}
                <div class="input-group-text">
                    {{ form_widget(formEvent.nInscrit) }}
                </div>
            </div>
            <div class="input-group ">
                {{ form_label(formEvent.finie) }}
                <div class="input-group-text">
                    {{ form_widget(formEvent.finie) }}
                </div>
            </div>
        </div>
    </div>
    {{ form_end(formEvent) }}




    <table id="table" class="table table-striped table-bordered display responsive nowrap" style="width:100%">
        <thead>
        <tr>
            <td>Nom de la sortie</td>
            <td >Date de la sortie</td>
            <td >Cloture</td>
            <td>inscrits/places</td>
            <td>Etat</td>
            <td>Inscrit</td>
            <td>Organisateur</td>
            <td>Action</td>
            <td>Site</td>
        </tr>
        </thead>
        <tbody>
        {% for value in sortie %}
            <tr>
                <td>{{ value['name'] }}</td>
                <td id="fini">{{ value['dateDebut'] | date('d/m/Y') }}</td>
                <td id="ffin">{{ value['dateCloture'] | date('d/m/Y') }}</td>
                <td>{{ value['nombreDeParticipant'] }}/{{ value['inscriptionsMax'] }}</td>
                <td>{{ value['state'] }}</td>
                {% if(value['Participation'] == '1' ) %}
                    <td>X</td>
                {% else %}
                    <td></td>
                {% endif %}
                <td>{{ value['username']}}</td>
                <td></td>
                <td>{{ value['site']}}</td>
            </tr>
        {% endfor %}
        </tbody>

    </table>

    <div>
        <a href="{{ path("event_create") }}" class="btn btn-primary">Cr√©er une sortie</a>
    </div>
{% endblock %}

        {% block javascripts %}
            <script src="{{ asset("js/pageAccueil.js") }}">

            </script>
        {% endblock %}
