{% extends 'base.html.twig' %}

{% block title %}{{ "event.new.title"|trans }} {{ parent() }}{% endblock %}

{% block body %}
    <div class="bg-detail text-left w-30">
        <h3>{{ "event.new.title"|trans }}</h3>
        {{ form_start(form) }}
        <div class="input-group  mt-3">
            {{ form_label(form.name) }}
            <div class="input-group">
                {{ form_widget(form.name) }}
            </div>
        </div>
        <div class="mt-3">
            {{ form_label(form.dateDebut) }}
            <div class="input-group">
                {{ form_widget(form.dateDebut) }}
                {{ form_widget(form.heureDebut) }}
            </div>
        </div>
        <div class="input-group mt-3">
            {{ form_label(form.duration) }}
            <div class="input-group">
                {{ form_widget(form.duration) }}
            </div>

        </div>
        <div class="input-group mt-3">
            {{ form_label(form.dateCloture) }}
            <div class="input-group">
                {{ form_widget(form.dateCloture) }}
                {{ form_widget(form.heureCloture) }}
            </div>

        </div>
        <div class="input-group mt-3">
            {{ form_label(form.inscriptionsMax) }}
            <div class="input-group">
                {{ form_widget(form.inscriptionsMax) }}
            </div>

        </div>
        <div class="input-group mt-3">
            {{ form_label(form.description) }}
            <div class="input-group">
                {{ form_widget(form.description) }}
            </div>

        </div>
        <div class="input-group mt-3">
            {{ form_label(form.lieu) }}
            <div class="input-group">
                {{ form_widget(form.lieu) }}
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalAddLocation">
                    <i class="far fa-plus-square"></i>
                </button>
            </div>
        </div>
        {{ form_widget(form) }}
        <input type="submit" value="{{ "event.new.confirm"|trans }}" class="btn btn-primary mb-3 mt-3 bgBleu">
        <a href="{{ path("default_index") }}" class="btn btn-primary mb-3 mt-3 bgBleu">{{ "event.new.return"|trans }}</a>
        {{ form_end(form) }}
    </div>
    <div class="modal" id="modalAddLocation" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ "event.new.location.title"|trans }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {{ form_start(formLocation, { "attr": { "id": "formAddLocation" }}) }}
                    {{ form_widget(formLocation) }}
                    <button id="submitFormLocation" type="submit" data-url="{{ path("location_add") }}">
                        {{ "event.new.location.confirm"|trans }}
                    </button>
                    {{  form_end(formLocation) }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="{{ url('bazinga_jstranslation_js') }}"></script>
    <script src="{{ asset("js/event/new.js") }}"></script>
{% endblock %}